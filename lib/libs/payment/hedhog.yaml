data:
  plan_duration:
    - slug: monthly
      name:
        en: Monthly
        pt: Mensal
      relations:
        plan:
          - slug: basic
            name:
              en: Basic
              pt: Básico
    - slug: quarterly
      name:
        en: Quarterly
        pt: Trimestral
      relations:
        plan:
          - slug: standard
            name:
              en: Standard
              pt: Padrão
    - slug: semiannual
      name:
        en: Semiannual
        pt: Semestral
      relations:
        plan:
          - slug: premium
            name:
              en: Premium
              pt: Premium
    - slug: annual
      name:
        en: Annual
        pt: Anual
      relations:
        plan:
          - slug: ultimate
            name:
              en: Ultimate
              pt: Supremo
  subscription_status:
    - slug: active
      name:
        en: Active
        pt: Ativo
    - slug: pending
      name:
        en: Pending
        pt: Pendente
    - slug: canceled
      name:
        en: Canceled
        pt: Cancelado
    - slug: expired
      name:
        en: Expired
        pt: Expirado
  payment_gateway:
    - slug: stripe
      name:
        en: Stripe
        pt: Stripe
    - slug: mercado-pago
      name:
        en: Mercado Pago
        pt: Mercado Pago
  payment_status:
    - slug: completed
      name:
        en: Completed
        pt: Completo
    - slug: pending
      name:
        en: Pending
        pt: Pendente
    - slug: canceled
      name:
        en: Canceled
        pt: Cancelado
    - slug: failed
      name:
        en: Failed
        pt: Falhou
  routes:
    - url: /plan-duration
      method: GET
    - url: /plan-duration
      method: POST
    - url: /plan-duration/:id
      method: GET
    - url: /plan-duration/:id
      method: PATCH
    - url: /plan-duration/:id
      method: DELETE
    - url: /plan
      method: GET
    - url: /plan
      method: POST
    - url: /plan/:id
      method: GET
    - url: /plan/:id
      method: PATCH
    - url: /plan/:id
      method: DELETE
    - url: /subscription-status
      method: GET
    - url: /subscription-status
      method: POST
    - url: /subscription-status/:id
      method: GET
    - url: /subscription-status/:id
      method: PATCH
    - url: /subscription-status/:id
      method: DELETE
    - url: /subscription
      method: GET
    - url: /subscription
      method: POST
    - url: /subscription/:id
      method: GET
    - url: /subscription/:id
      method: PATCH
    - url: /subscription/:id
      method: DELETE
    - url: /payment-gateway
      method: GET
    - url: /payment-gateway
      method: POST
    - url: /payment-gateway/:id
      method: GET
    - url: /payment-gateway/:id
      method: PATCH
    - url: /payment-gateway/:id
      method: DELETE
    - url: /payment-status
      method: GET
    - url: /payment-status
      method: POST
    - url: /payment-status/:id
      method: GET
    - url: /payment-status/:id
      method: PATCH
    - url: /payment-status/:id
      method: DELETE
    - url: /payment
      method: GET
    - url: /payment
      method: POST
    - url: /payment/:id
      method: GET
    - url: /payment/:id
      method: PATCH
    - url: /payment/:id
      method: DELETE
    - url: /payment-subscription
      method: GET
    - url: /payment-subscription
      method: POST
    - url: /payment-subscription/:id
      method: GET
    - url: /payment-subscription/:id
      method: PATCH
    - url: /payment-subscription/:id
      method: DELETE
tables:
  plan_duration:
    columns:
      - type: pk
      - type: slug
      - type: created_at
      - type: updated_at
  plan_duration_locale:
    columns:
      - type: fk
        name: duration_id
        isPrimary: true
        reference:
          table: plan_duration
          column: null
          onDelete: cascade
      - type: fk
        name: locale_id
        isPrimary: true
        reference:
          table: locale
          column: null
          onDelete: cascade
      - name: name
      - type: created_at
      - type: updated_at
  plan:
    columns:
      - type: pk
      - type: slug
      - type: fk
        name: duration_id
        isPrimary: true
        reference:
          table: plan_duration
          column: null
          onDelete: cascade
      - type: created_at
      - type: updated_at
  plan_locale:
    columns:
      - type: fk
        name: plan_id
        isPrimary: true
        reference:
          table: plan
          column: null
          onDelete: cascade
      - type: fk
        name: locale_id
        isPrimary: true
        reference:
          table: locale
          column: null
          onDelete: cascade
      - name: name
      - name: description
        length: 1023
      - type: created_at
      - type: updated_at
  subscription_status:
    columns:
      - type: pk
      - type: slug
      - type: created_at
      - type: updated_at
  subscription_status_locale:
    columns:
      - type: fk
        name: status_id
        isPrimary: true
        reference:
          table: subscription_status
          column: null
          onDelete: cascade
      - type: fk
        name: locale_id
        isPrimary: true
        reference:
          table: locale
          column: null
          onDelete: cascade
      - name: name
      - type: created_at
      - type: updated_at
  subscription:
    columns:
      - type: pk
      - type: fk
        name: plan_id
        isPrimary: true
        reference:
          table: plan
          column: null
          onDelete: cascade
      - type: fk
        name: person_id
        isPrimary: true
        reference:
          table: person
          column: null
          onDelete: cascade
      - name: name
      - type: date
        name: start_at
      - type: date
        name: end_at
      - type: fk
        name: status_id
        isPrimary: true
        reference:
          table: subscription_status
          column: null
          onDelete: cascade
      - type: boolean
        name: recurring
        default: false
      - type: created_at
      - type: updated_at
  payment_gateway:
    columns:
      - type: pk
      - type: slug
      - type: created_at
      - type: updated_at
  payment_gateway_locale:
    columns:
      - type: fk
        name: gateway_id
        isPrimary: true
        reference:
          table: payment_gateway
          column: null
          onDelete: cascade
      - type: fk
        name: locale_id
        isPrimary: true
        reference:
          table: locale
          column: null
          onDelete: cascade
      - name: name
      - type: created_at
      - type: updated_at
  payment_status:
    columns:
      - type: pk
      - type: slug
      - type: created_at
      - type: updated_at
  payment_status_locale:
    columns:
      - type: fk
        name: status_id
        isPrimary: true
        reference:
          table: payment_status
          column: null
          onDelete: cascade
      - type: fk
        name: locale_id
        isPrimary: true
        reference:
          table: locale
          column: null
          onDelete: cascade
      - name: name
      - type: created_at
      - type: updated_at
  payment:
    columns:
      - type: pk
      - type: fk
        name: status_id
        isPrimary: true
        reference:
          table: payment_status
          column: null
          onDelete: cascade
      - type: fk
        name: gateway_id
        isPrimary: true
        reference:
          table: payment_gateway
          column: null
          onDelete: cascade
      - type: fk
        name: person_id
        isPrimary: true
        reference:
          table: person
          column: null
          onDelete: cascade
      - type: decimal
        name: amount
        precision: 10
        scale: 2
        unsigned: true
      - type: enum
        name: currency
        enum:
          - USD
          - BRL
        default: BRL
      - type: date
        name: paid_at
      - type: varchar
        name: transaction_id
        isUnique: true
      - type: created_at
      - type: updated_at
  payment_subscription:
    columns:
      - type: pk
      - type: fk
        name: payment_id
        isPrimary: true
        reference:
          table: payment
          column: null
          onDelete: cascade
      - type: fk
        name: subscription_id
        isPrimary: true
        reference:
          table: subscription
          column: null
          onDelete: cascade
      - type: created_at
      - type: updated_at
