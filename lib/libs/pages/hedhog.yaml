tables:
  component_type:
    ifNotExists: true
    columns:
      - type: pk
      - type: slug
      - type: created_at
      - type: updated_at
  component_type_locale:
    ifNotExists: true
    columns:
      - type: fk
        name: type_id
        isPrimary: true
        references:
          table: component_type
          column: id
          onDelete: CASCADE
      - type: fk
        name: locale_id
        isPrimary: true
        references:
          table: locale
          column: id
          onDelete: CASCADE
      - name: name
      - type: created_at
      - type: updated_at
  component:
    ifNotExists: true
    columns:
      - type: pk
      - type: fk
        name: type_id
        references:
          table: component_type
          column: id
          onDelete: CASCADE
      - type: slug
      - type: created_at
      - type: updated_at
  component_locale:
    ifNotExists: true
    columns:
      - type: fk
        name: component_id
        isPrimary: true
        references:
          table: component
          column: id
          onDelete: CASCADE
      - type: fk
        name: locale_id
        isPrimary: true
        references:
          table: locale
          column: id
          onDelete: CASCADE
      - name: name
      - type: created_at
      - type: updated_at
  component_property_type:
    ifNotExists: true
    columns:
      - type: pk
      - type: slug
      - type: created_at
      - type: updated_at
  component_property_type_locale:
    ifNotExists: true
    columns:
      - type: fk
        name: type_id
        isPrimary: true
        references:
          table: component_property_type
          column: id
          onDelete: CASCADE
      - type: fk
        name: locale_id
        isPrimary: true
        references:
          table: locale
          column: id
          onDelete: CASCADE
      - name: name
      - type: created_at
      - type: updated_at
  component_property:
    ifNotExists: true
    columns:
      - type: pk
      - type: fk
        name: type_id
        references:
          table: component_property_type
          column: id
          onDelete: CASCADE
      - type: fk
        name: component_id
        references:
          table: component
          column: id
          onDelete: CASCADE
      - name: default
      - type: created_at
      - type: updated_at
  component_property_locale:
    ifNotExists: true
    columns:
      - type: fk
        name: property_id
        isPrimary: true
        references:
          table: component_property
          column: id
          onDelete: CASCADE
      - type: fk
        name: locale_id
        isPrimary: true
        references:
          table: locale
          column: id
          onDelete: CASCADE
      - name: name
      - type: created_at
      - type: updated_at
  component_instance:
    ifNotExists: true
    columns:
      - type: pk
      - type: fk
        name: component_id
        references:
          table: component
          column: id
          onDelete: CASCADE
      - type: fk
        name: instance_id
        references:
          table: component_instance
          column: id
          onDelete: CASCADE
      - name: name
      - type: order
      - type: created_at
      - type: updated_at
  component_instance_property:
    ifNotExists: true
    columns:
      - type: fk
        isPrimary: true
        name: property_id
        references:
          table: component_property
          column: id
          onDelete: CASCADE
      - type: fk
        isPrimary: true
        name: instance_id
        references:
          table: component_instance
          column: id
          onDelete: CASCADE
      - name: value
      - type: created_at
      - type: updated_at
  page:
    ifNotExists: true
    columns:
      - type: pk
      - type: slug
      - type: fk
        name: instance_id
        references:
          table: component_instance
          column: id
          onDelete: CASCADE
      - type: created_at
      - type: updated_at
  page_locale:
    ifNotExists: true
    columns:
      - type: fk
        name: page_id
        isPrimary: true
        references:
          table: page
          column: id
          onDelete: CASCADE
      - type: fk
        name: locale_id
        isPrimary: true
        references:
          table: locale
          column: id
          onDelete: CASCADE
      - name: title
      - name: description
      - type: created_at
      - type: updated_at
screens:
  page:
    title:
      en: Pages
      pt: Páginas
    menu:
      url: /page
      icon: file-code
      name:
        en: Pages
        pt: Páginas
      slug: /page
      relations:
        role:
          - where:
              slug: admin
  component:
    title:
      en: Components
      pt: Componentes
    menu:
      menu_id:
        where:
          slug: /management/component
      url: /component
      icon: puzzle
      name:
        en: Components
        pt: Componentes
      slug: /management/component/component
      relations:
        role:
          - where:
              slug: admin
  component_type:
    title:
      en: Component Types
      pt: Tipos de Componentes
    menu:
      menu_id:
        where:
          slug: /management/component
      url: /component-type
      icon: puzzle
      name:
        en: Component Types
        pt: Tipos de Componentes
      slug: /management/component/type
      relations:
        role:
          - where:
              slug: admin
  component_property_type:
    title:
      en: Component Property Types
      pt: Tipos de Propriedades de Componentes
    menu:
      menu_id:
        where:
          slug: /management/component
      url: /component-property-type
      icon: puzzle
      name:
        en: Component Property Types
        pt: Tipos de Propriedades de Componentes
      slug: /management/component/property-type
      relations:
        role:
          - where:
              slug: admin
data:
  route:
    - url: /component-type
      method: GET
      relations: &a1
        role:
          - where:
              slug: admin
    - url: /component-type
      method: POST
      relations: *a1
    - url: /component-type/:id
      method: GET
      relations: *a1
    - url: /component-type/:id
      method: PATCH
      relations: *a1
    - url: /component-type
      method: DELETE
      relations: *a1
    - url: /component
      method: GET
      relations: &a2
        role:
          - where:
              slug: admin
    - url: /component
      method: POST
      relations: *a2
    - url: /component/:id
      method: GET
      relations: *a2
    - url: /component/:id
      method: PATCH
      relations: *a2
    - url: /component
      method: DELETE
      relations: *a2
    - url: /component-property-type
      method: GET
      relations: &a3
        role:
          - where:
              slug: admin
    - url: /component-property-type
      method: POST
      relations: *a3
    - url: /component-property-type/:id
      method: GET
      relations: *a3
    - url: /component-property-type/:id
      method: PATCH
      relations: *a3
    - url: /component-property-type
      method: DELETE
      relations: *a3
    - url: /component-property
      method: GET
      relations: &a4
        role:
          - where:
              slug: admin
    - url: /component-property
      method: POST
      relations: *a4
    - url: /component-property/:id
      method: GET
      relations: *a4
    - url: /component-property/:id
      method: PATCH
      relations: *a4
    - url: /component-property
      method: DELETE
      relations: *a4
    - url: /component-instance
      method: GET
      relations: &a5
        role:
          - where:
              slug: admin
    - url: /component-instance
      method: POST
      relations: *a5
    - url: /component-instance/:id
      method: GET
      relations: *a5
    - url: /component-instance/:id
      method: PATCH
      relations: *a5
    - url: /component-instance
      method: DELETE
      relations: *a5
    - url: /component-instance-property
      method: GET
      relations: &a6
        role:
          - where:
              slug: admin
    - url: /component-instance-property
      method: POST
      relations: *a6
    - url: /component-instance-property/:id
      method: GET
      relations: *a6
    - url: /component-instance-property/:id
      method: PATCH
      relations: *a6
    - url: /component-instance-property
      method: DELETE
      relations: *a6
    - url: /page
      method: GET
      relations: &a7
        role:
          - where:
              slug: admin
    - url: /page
      method: POST
      relations: *a7
    - url: /page/:id
      method: GET
      relations: *a7
    - url: /page/:id
      method: PATCH
      relations: *a7
    - url: /page
      method: DELETE
      relations: *a7
  menu:
    - name:
        en: ComponentType
        pt: ComponentType
      icon: file
      url: /component-type
      slug: component-type
      relations: *a1
    - name:
        en: Component
        pt: Component
      icon: file
      url: /component
      slug: component
      relations: *a2
    - name:
        en: ComponentPropertyType
        pt: ComponentPropertyType
      icon: file
      url: /component-property-type
      slug: component-property-type
      relations: *a3
    - name:
        en: ComponentProperty
        pt: ComponentProperty
      icon: file
      url: /component-property
      slug: component-property
      relations: *a4
    - name:
        en: ComponentInstance
        pt: ComponentInstance
      icon: file
      url: /component-instance
      slug: component-instance
      relations: *a5
    - name:
        en: ComponentInstanceProperty
        pt: ComponentInstanceProperty
      icon: file
      url: /component-instance-property
      slug: component-instance-property
      relations: *a6
    - name:
        en: Page
        pt: Page
      icon: file
      url: /page
      slug: page
      relations: *a7
  screen:
    - name:
        en: ComponentType
        pt: ComponentType
      slug: component-type
      description:
        en: Screen to manage component_type
        pt: Tela para gerenciar component_type
      icon: file
    - name:
        en: Component
        pt: Component
      slug: component
      description:
        en: Screen to manage component
        pt: Tela para gerenciar component
      icon: file
    - name:
        en: ComponentPropertyType
        pt: ComponentPropertyType
      slug: component-property-type
      description:
        en: Screen to manage component_property_type
        pt: Tela para gerenciar component_property_type
      icon: file
    - name:
        en: ComponentProperty
        pt: ComponentProperty
      slug: component-property
      description:
        en: Screen to manage component_property
        pt: Tela para gerenciar component_property
      icon: file
    - name:
        en: ComponentInstance
        pt: ComponentInstance
      slug: component-instance
      description:
        en: Screen to manage component_instance
        pt: Tela para gerenciar component_instance
      icon: file
    - name:
        en: ComponentInstanceProperty
        pt: ComponentInstanceProperty
      slug: component-instance-property
      description:
        en: Screen to manage component_instance_property
        pt: Tela para gerenciar component_instance_property
      icon: file
    - name:
        en: Page
        pt: Page
      slug: page
      description:
        en: Screen to manage page
        pt: Tela para gerenciar page
      icon: file
routes:
  - path: pages
    children:
      - path: page
        lazy:
          component: ./pages/pages/page/index.tsx
      - path: component
        lazy:
          component: ./pages/pages/component/index.tsx
      - path: component-type
        lazy:
          component: ./pages/pages/component-type/index.tsx
      - path: component-property-type
        lazy:
          component: ./pages/pages/component-property-type/index.tsx
